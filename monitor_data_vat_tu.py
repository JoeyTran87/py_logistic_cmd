import os, time
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
def main(sleep):
    path = r"C:\Users\tvpduy\py_logistic\data_vat_tu"
    print(path)
    ini_count = len(os.listdir(path))
    print(f"Listening...at {time.strftime('%a %d %b %Y %H:%M:%S')} (Ctrl + C for shutdown) ")
    while True:
        try:
            time.sleep(sleep)
            current_count = monitor(path)
            if current_count > ini_count:
                ini_count = current_count
                raise Exception('Thêm dữ liệu')
            if current_count < ini_count:
                ini_count = current_count
                raise Exception('Xóa dữ liệu')    
            print(f"Listening...at {time.strftime('%a %d %b %Y %H:%M:%S')} (Ctrl + C for shutdown) ")
        except Exception as ex:
            if ex.args[0] == 'Thêm dữ liệu':
                print (ex,'-Nhập dữ liệu đi !!!')
            if ex.args[0] == 'Xóa dữ liệu':
                print (ex,'-Lưu trữ dữ liệu đi !!!')
            pass
#--------------------------------------------------------------------------------------------------------------------#

#--------------------------------------------------------------------------------------------------------------------#


def monitor(path):
    return len(os.listdir(path))

#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
#--------------------------------------------------------------------------------------------------------------------#
if __name__ == '__main__':  
    try:
        main(5)
    except KeyboardInterrupt:
        quit()
    
